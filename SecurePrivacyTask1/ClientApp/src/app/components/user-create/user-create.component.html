<div class="user-create-container">
  <!-- Conditional Title based on the mode -->
  <h2 *ngIf="isEditMode; else createTitle">Edit User</h2>
  <ng-template #createTitle>
    <h2>Create New User</h2>
  </ng-template>

  <form (ngSubmit)="onSubmit()">
    <!-- Username Field -->
    <div class="form-group">
      <label for="userName">Username:</label>
      <input type="text" id="userName" [(ngModel)]="user.userName" name="userName" required />
    </div>

    <!-- Email Field -->
    <div class="form-group">
      <label for="email">Email:</label>
      <input type="email" id="email" [(ngModel)]="user.email" name="email" required />
    </div>

    <!-- Phone Field -->
    <div class="form-group">
      <label for="phone">Phone:</label>
      <input type="text" id="phone" [(ngModel)]="user.phone" name="phone" />
    </div>

    <!-- Address Field -->
    <div class="form-group">
      <label for="address">Address:</label>
      <input type="text" id="address" [(ngModel)]="user.address" name="address" />
    </div>

    <!-- City Field -->
    <div class="form-group">
      <label for="city">City:</label>
      <input type="text" id="city" [(ngModel)]="user.city" name="city" />
    </div>

    <!-- Consent Checkbox -->
    <div class="form-group">
      <label>
        <input type="checkbox" [(ngModel)]="user.consentGiven" name="consentGiven" required /> I agree to the privacy policy.
      </label>
    </div>

    <!-- Permissions Section -->
    <h3>Permissions</h3>

    <div class="form-group">
      <label>
        <input type="checkbox" [(ngModel)]="user.canCreateUsers" name="canCreateUsers" /> Can create users
      </label>
    </div>

    <div class="form-group">
      <label>
        <input type="checkbox" [(ngModel)]="user.canDeleteUsers" name="canDeleteUsers" /> Can delete users
      </label>
    </div>

    <div class="form-group">
      <label>
        <input type="checkbox" [(ngModel)]="user.canEditUsers" name="canEditUsers" /> Can edit users
      </label>
    </div>

    <!-- Submit Button with Conditional Disabled State -->
    <button type="submit" [disabled]="!currentUser?.canEditUsers || !user.consentGiven">
      {{ isEditMode ? 'Edit User' : 'Create User' }}
    </button>
  </form>
</div>
